<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_144) on Sun Apr 14 13:40:48 CEST 2019 -->
<title>BattleController</title>
<meta name="date" content="2019-04-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BattleController";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../com/prasannjeet/battleship/controller/WebSocketController.html" title="class in com.prasannjeet.battleship.controller"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/prasannjeet/battleship/controller/BattleController.html" target="_top">Frames</a></li>
<li><a href="BattleController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.prasannjeet.battleship.controller</div>
<h2 title="Class BattleController" class="title">Class BattleController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.prasannjeet.battleship.controller.BattleController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@RestController
 @RequestMapping(value="/api/v1/battle")
public class <span class="typeNameLabel">BattleController</span>
extends java.lang.Object</pre>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Prasannjeet <strong>Description: </strong>
 Class that primarily handles all the RESTful API calls from the Angular client.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../com/prasannjeet/battleship/repository/GameInstanceRepository.html" title="interface in com.prasannjeet.battleship.repository">GameInstanceRepository</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/prasannjeet/battleship/controller/BattleController.html#gameInstanceRepository">gameInstanceRepository</a></span></code>
<div class="block">Repository instance of GameInstance Model</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private com.google.gson.Gson</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/prasannjeet/battleship/controller/BattleController.html#gson">gson</a></span></code>
<div class="block">Used Gson to parse JSON Objects</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../com/prasannjeet/battleship/repository/PlayerMatchesRepository.html" title="interface in com.prasannjeet.battleship.repository">PlayerMatchesRepository</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/prasannjeet/battleship/controller/BattleController.html#playerMatchesRepository">playerMatchesRepository</a></span></code>
<div class="block">Repository instance of PlayerMatches Model</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/prasannjeet/battleship/controller/BattleController.html#BattleController-com.google.gson.Gson-com.prasannjeet.battleship.repository.GameInstanceRepository-com.prasannjeet.battleship.repository.PlayerMatchesRepository-">BattleController</a></span>(com.google.gson.Gson&nbsp;gson,
                <a href="../../../../com/prasannjeet/battleship/repository/GameInstanceRepository.html" title="interface in com.prasannjeet.battleship.repository">GameInstanceRepository</a>&nbsp;gameInstanceRepository,
                <a href="../../../../com/prasannjeet/battleship/repository/PlayerMatchesRepository.html" title="interface in com.prasannjeet.battleship.repository">PlayerMatchesRepository</a>&nbsp;playerMatchesRepository)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/prasannjeet/battleship/controller/BattleController.html#getAllItems--">getAllItems</a></span>()</code>
<div class="block">This API endpoint us used by the Score-Table component to display the scores.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/prasannjeet/battleship/controller/BattleController.html#getPlayerTwoName-java.lang.String-">getPlayerTwoName</a></span>(java.lang.String&nbsp;sockId)</code>
<div class="block">Used by Battleboard Component.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/prasannjeet/battleship/controller/BattleController.html#getUserName-java.lang.String-">getUserName</a></span>(java.lang.String&nbsp;userId)</code>
<div class="block">This API endpoint is used by Battleboard Component in Angular.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/prasannjeet/battleship/model/GameModel.html" title="class in com.prasannjeet.battleship.model">GameModel</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/prasannjeet/battleship/controller/BattleController.html#initPlayer1-java.lang.String-">initPlayer1</a></span>(java.lang.String&nbsp;username)</code>
<div class="block">Thsi API endpoint is used by Battleboard1 component from Angular.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="gson">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gson</h4>
<pre>private final&nbsp;com.google.gson.Gson gson</pre>
<div class="block">Used Gson to parse JSON Objects</div>
</li>
</ul>
<a name="gameInstanceRepository">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gameInstanceRepository</h4>
<pre>private final&nbsp;<a href="../../../../com/prasannjeet/battleship/repository/GameInstanceRepository.html" title="interface in com.prasannjeet.battleship.repository">GameInstanceRepository</a> gameInstanceRepository</pre>
<div class="block">Repository instance of GameInstance Model</div>
</li>
</ul>
<a name="playerMatchesRepository">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>playerMatchesRepository</h4>
<pre>private final&nbsp;<a href="../../../../com/prasannjeet/battleship/repository/PlayerMatchesRepository.html" title="interface in com.prasannjeet.battleship.repository">PlayerMatchesRepository</a> playerMatchesRepository</pre>
<div class="block">Repository instance of PlayerMatches Model</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BattleController-com.google.gson.Gson-com.prasannjeet.battleship.repository.GameInstanceRepository-com.prasannjeet.battleship.repository.PlayerMatchesRepository-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BattleController</h4>
<pre>@Autowired
public&nbsp;BattleController(com.google.gson.Gson&nbsp;gson,
                                    <a href="../../../../com/prasannjeet/battleship/repository/GameInstanceRepository.html" title="interface in com.prasannjeet.battleship.repository">GameInstanceRepository</a>&nbsp;gameInstanceRepository,
                                    <a href="../../../../com/prasannjeet/battleship/repository/PlayerMatchesRepository.html" title="interface in com.prasannjeet.battleship.repository">PlayerMatchesRepository</a>&nbsp;playerMatchesRepository)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAllItems--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllItems</h4>
<pre>@RequestMapping(value="/getAll")
public&nbsp;java.lang.String&nbsp;getAllItems()</pre>
<div class="block">This API endpoint us used by the Score-Table component to display the scores.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The details of all the users in the database who have won at least one game.</dd>
</dl>
</li>
</ul>
<a name="initPlayer1-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initPlayer1</h4>
<pre>@RequestMapping(value="/newgame/{username}")
public&nbsp;<a href="../../../../com/prasannjeet/battleship/model/GameModel.html" title="class in com.prasannjeet.battleship.model">GameModel</a>&nbsp;initPlayer1(@PathVariable
                                                                           java.lang.String&nbsp;username)</pre>
<div class="block">Thsi API endpoint is used by Battleboard1 component from Angular. It first creates a random UUID and assigns that as the unique user-id of the
 player. Further, the Class GameInstance instantiates one of it's instance that contains a board with randomly distributed ships. This GameInstance
 class is further simplified to another GameModel class that contains minimal information needed for Angular to display the ship positions. This
 GameModel is then returned to the client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - The username of Player 1.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The Game-Model POJO object containing the details of player 1.</dd>
</dl>
</li>
</ul>
<a name="getUserName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserName</h4>
<pre>@RequestMapping(value="/getUserName/{userId}")
public&nbsp;java.lang.String&nbsp;getUserName(@PathVariable
                                                                                    java.lang.String&nbsp;userId)</pre>
<div class="block">This API endpoint is used by Battleboard Component in Angular. It takes in the User-ID of a Player and returns it's username using the 
 GameInstance model.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userId</code> - The user-id of a player</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the userName of the player.</dd>
</dl>
</li>
</ul>
<a name="getPlayerTwoName-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPlayerTwoName</h4>
<pre>@RequestMapping(value="/getPlayer2Id/{sockId}")
public&nbsp;java.lang.String&nbsp;getPlayerTwoName(@PathVariable
                                                                                          java.lang.String&nbsp;sockId)</pre>
<div class="block">Used by Battleboard Component. As we know the PlayerMatches model contains the user-id of both Player1 and Player2,
 As soon as Player1 realizes player 2 has joined the game (via Websockets), it means that Player 2 has been instantiated and the PlayerMatches model
 now has a pair of user-id with the socket-id as it's primary key. Furthermore, since sock-id is already generated, Battleboard Component uses that
 to request for the user-id of Player 2 here. This userId is then used in the getUserName() API above to find out the username. This username is then
 displayed at the bottom of the screen of player 1.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sockId</code> - The unique sockId used to communicate between two players via webs sockets in the server.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The user-id of player 2.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../com/prasannjeet/battleship/controller/WebSocketController.html" title="class in com.prasannjeet.battleship.controller"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/prasannjeet/battleship/controller/BattleController.html" target="_top">Frames</a></li>
<li><a href="BattleController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
